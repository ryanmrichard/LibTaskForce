# Modules are created without a prefix
set(CMAKE_SHARED_MODULE_PREFIX "")

# Find the dependencies for bpmodule
# Add the install path for bpmodule to the search path
set(TASKFORCE_EXTERNAL_DIR "${CMAKE_CURRENT_LIST_DIR}/external")
list(APPEND CMAKE_PREFIX_PATH "${TASKFORCE_EXTERNAL_DIR}/madness")

# And the find macros
#list(APPEND CMAKE_MODULE_PATH "${TASKFORCE_EXTERNAL_DIR}/cmake")

# Find external projects
find_package(MADNESS REQUIRED CONFIG COMPONENTS world)

# Create the target to link against
add_library(taskforce INTERFACE)

# Required options
target_compile_options(taskforce INTERFACE "-std=c++11")


#######################################
# Add the various include directories
#######################################
# Main TaskForce headers
target_include_directories(taskforce INTERFACE ${CMAKE_CURRENT_LIST_DIR}/include)

# Main dependencies (mark as system includes)
list(APPEND TASKFORCE_CXX_INCLUDES @MPI_CXX_INCLUDE_PATH@)
list(APPEND TASKFORCE_CXX_INCLUDES ${MADNESS_INCLUDE_DIRS})
target_include_directories(taskforce SYSTEM INTERFACE ${TASKFORCE_CXX_INCLUDES})
